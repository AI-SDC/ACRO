======================
SACRO-Viewer Tutorial
======================

Using SACRO-Viewer for output checking and review.

.. note::
   This section covers SACRO-Viewer functionality. For ACRO-specific examples, see :doc:`basic_workflow` and :doc:`cross_tabulation`.

Overview
========

SACRO-Viewer provides a graphical interface for reviewing research outputs generated by ACRO and other SACRO tools.

Getting Started
===============

Installation
------------

SACRO-Viewer can be installed as a desktop application or deployed as a web service.

Desktop Installation:

.. code-block:: bash

   # Download from GitHub releases
   # https://github.com/AI-SDC/SACRO-Viewer/releases

Web Deployment:

.. code-block:: bash

   docker pull aisdc/sacro-viewer:latest
   docker run -p 8080:8080 aisdc/sacro-viewer:latest

Basic Workflow
--------------

1. **Generate Outputs**: Use ACRO to create analysis outputs
2. **Load Directory**: Open the output folder in SACRO-Viewer
3. **Review Results**: Examine each output and disclosure checks
4. **Make Decisions**: Approve or reject outputs with comments
5. **Export Results**: Generate final approved output package

Interface Overview
==================

Main Dashboard
--------------

The main interface provides:

* **Output Queue**: List of outputs awaiting review
* **Status Summary**: Overview of approval/rejection statistics
* **Recent Activity**: Timeline of reviewer actions
* **System Information**: Health checks and configuration

Output Review Panel
-------------------

For each output, reviewers can see:

* **Original Output**: The requested analysis result
* **Disclosure Checks**: Detailed safety assessment results
* **Risk Indicators**: Visual highlighting of potential issues
* **Decision Controls**: Approve/reject buttons with comment fields

Review Process
==============

Standard Review Workflow
-------------------------

1. **Select Output**: Click on an output from the queue
2. **Examine Content**: Review the analysis results
3. **Check Disclosure Results**: Understand why items were flagged
4. **Consider Context**: Apply domain expertise and institutional policies
5. **Make Decision**: Approve, reject, or request modifications
6. **Add Comments**: Provide feedback for researchers

Decision Criteria
-----------------

Common factors in review decisions:

* **Statistical Disclosure Risk**: Automatic check results
* **Research Context**: Purpose and intended use of results
* **Institutional Policy**: Organization-specific guidelines
* **Data Sensitivity**: Level of confidentiality required
* **Publication Intent**: Whether results will be made public

Batch Processing
================

For High-Volume Environments
-----------------------------

SACRO-Viewer supports efficient batch processing:

1. **Filter Outputs**: Sort by risk level, type, or researcher
2. **Bulk Actions**: Approve multiple low-risk outputs simultaneously  
3. **Priority Queue**: Focus on high-risk or time-sensitive items
4. **Automated Rules**: Configure automatic approval for certain cases

Integration Features
====================

TRE Integration
---------------

SACRO-Viewer integrates with Trusted Research Environments:

* **Airlock Systems**: Direct integration with approval workflows
* **Authentication**: SSO and institutional login support
* **File Management**: Secure output export mechanisms
* **Audit Trails**: Complete logging of all decisions

API Access
----------

Programmatic access for automated workflows:

* **Status Checking**: Monitor review progress
* **Batch Submission**: Submit multiple outputs programmatically
* **Report Generation**: Extract approval statistics and trends
* **Integration Hooks**: Connect with institutional systems

Configuration
=============

Reviewer Settings
-----------------

Customizable options for reviewers:

* **Display Preferences**: Layout and visualization options
* **Notification Settings**: Email alerts for new submissions
* **Decision Templates**: Pre-configured approval/rejection reasons
* **Workflow Rules**: Custom review procedures

System Configuration
--------------------

Administrative settings:

* **User Management**: Reviewer accounts and permissions
* **Threshold Settings**: Customize disclosure control parameters
* **Integration Options**: Connect with external systems
* **Audit Configuration**: Logging and reporting settings

Best Practices
==============

For Reviewers
-------------

1. **Understand the Research Context**: Know the project goals
2. **Apply Consistent Standards**: Use institutional guidelines
3. **Document Decisions**: Provide clear feedback to researchers
4. **Escalate When Uncertain**: Consult senior reviewers for complex cases
5. **Stay Updated**: Keep current with disclosure control best practices

For Administrators
------------------

1. **Train Reviewers**: Provide comprehensive training on tools and policies
2. **Monitor Performance**: Track review times and decision patterns
3. **Update Procedures**: Regularly review and improve workflows
4. **Maintain Security**: Ensure proper access controls and audit trails
5. **Gather Feedback**: Continuously improve based on user experience

Troubleshooting
===============

Common Issues
-------------

* **Outputs Not Loading**: Check file permissions and network connectivity
* **Authentication Problems**: Verify SSO configuration and credentials
* **Performance Issues**: Monitor system resources and database optimization
* **Display Problems**: Clear browser cache or update application

Getting Help
============

Support Resources:

* **User Manual**: Comprehensive documentation
* **Video Tutorials**: Step-by-step guidance
* **Community Forum**: User discussions and tips
* **Technical Support**: Direct assistance for issues

See Also
========

* :doc:`../sacro_viewer` - Complete SACRO-Viewer documentation
* :doc:`reviewer_workflows` - Advanced reviewer procedures
* :doc:`tre_integration` - TRE integration guides